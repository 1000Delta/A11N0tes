# Lua 基本概念

## 数据类型

| 数据类型 | 描述                                                         |
| -------- | ------------------------------------------------------------ |
| nil      | 这个最简单，只有值nil属于该类，表示一个无效值（在条件表达式中相当于false）。 |
| boolean  | 包含两个值：false和true。                                    |
| number   | 表示双精度类型的实浮点数                                     |
| string   | 字符串由一对双引号或单引号来表示                             |
| function | 由 C 或 Lua 编写的函数                                       |
| userdata | 表示任意存储在变量中的C数据结构                              |
| thread   | 表示执行的独立线路，用于执行协同程序                         |
| table    | Lua 中的表（table）其实是一个"**关联数组**"（associative arrays），数组的索引可以是数字或者是字符串。在 Lua 里，table 的创建是通过"构造表达式"来完成，最简单构造表达式是{}，用来创建一个空表。 |

- `nil` 作比较时应加上双引号 `"nil"`

  ```lua
  print(type(type(X)))
  -- 输出 string
  ```

  

- 仅 `nil` 和 `false` 被视为“假”，其他都为真（包括0）

  ```lua
  if 0 then
      print(1)
  else
      print(0)
  end
  -- 输出 1
  ```

- 

## 操作符

### 字符串连接

使用 `..` 进行字符串连接

```lua
print("a" .. "b")
-- ab
```

### 计算字符串长度

使用前缀 `#` 来计算

```lua
str = "lua"
print(#str)
-- 3
```

## 语言结构

### 表 table

使用表（table）：

```lua
tb1 = {1,2,3}
tb2 = {}
tb2["first"] = "a string"
print(tb1[1])
-- 1
print(tb2["first"])
-- a string
```

不同于其他语言的数组，lua中table的默认索引从1开始

### 函数 function

```lua
function foo()
    -- do something
end
```

也可作为闭包

```lua
(function() print("1") end)()
```



